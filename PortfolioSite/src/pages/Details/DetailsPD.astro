---
import Layout from '../../layouts/Layout.astro';
import Sidebar from '../../components/Sidebar.astro';
import DescriptionTemp from '../../components/DescriptionTemp.astro';
import Socials from '../../components/Socials.astro';
import GalleryTemp from '../../components/GalleryTemp.astro';
import CodeSamplesTemp from '../../components/CodeSamplesTemp.astro';
// Variables

const {
    title = "Page Title",
    description = "Page description goes here.",
    tabs = ["Description", "Gallery", "Code Samples"]
} = Astro.props;
---

<Layout title = "Page Template">
</Layout>

<body>
    <Sidebar weblink ="/?scroll=projects"/>
    <div class="tab">
        <h2 style="margin-left: 16px;">Page Template</h2>
        <div class="tab-buttons">
        {tabs.map((tab: string, index: number) => (
            <button data-tab={tab} class={index === 0 ? 'active' : ''}>{tab}</button>
        ))}
        </div>
         <div class="tab-content active" id="Description">
            <DescriptionTemp />
        </div>
        <div class="tab-content" id="Gallery">
            <GalleryTemp/>
            </div>
        <div class="tab-content" id="Code Samples">
            <CodeSamplesTemp/>
            </div>
    </div>
    <Socials/>
</body>

<!-- JavaScript for tab functionality -->
<script>
	document.addEventListener('DOMContentLoaded', () => {
		const tabButtons = document.querySelectorAll<HTMLButtonElement>('.tab-buttons button');
		const tabContents = document.querySelectorAll<HTMLElement>('.tab-content');

		tabButtons.forEach(button => {
			button.addEventListener('click', () => {
				const tab = button.dataset.tab as string;

				tabButtons.forEach(btn => btn.classList.remove('active'));
				tabContents.forEach(content => content.classList.remove('active'));

				button.classList.add('active');

				document.getElementById(tab)?.classList.add('active');
      		});
    	});
});
</script>